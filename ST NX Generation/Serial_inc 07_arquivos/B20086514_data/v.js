/*
 *
 * C3 Metrics
 *
 * http://www.c3metrics.com
 * http://www.c3tag.com
 *
 * Copyright (c) 2008 - 2017 C3 Metrics, Inc. All Rights Reserved
 * Patent Pending
 * v.5.0.5
 *
 */
!function(a,b){function e(a,d){a.params.c3l0===b&&c.firePixel(a.log_path,a.params,d),a.client_pixels.inview&&c.firePixel(a.client_pixels.inview,a.params,d,!0),a.params.c3vc!==b&&1==a.params.c3vc&&c.firePixel(a.client_pixels.vc,a.params,d)}var c=a.$C3,d=function(a){return document.createElement(a)};if((void 0===c||"object"==typeof c&&"C3 Metrics"!==c.co)&&(c={co:"C3 Metrics",versionNo:"4.1.860",dnr_cids:[],valid_domains:["c3tag.com/","c3metrics.com/","trusteview.com/","truste.com/","channelcadence.com/","c3metrics.dev/"],valid_filenames:["v.js?","v1.js?"],vt_list:[],scripts:[],is_window_top:a==a.top,total_client_params:7,os:null,browser:{id:null,version:null},file:/\/v(1)?\.js/,viewport:{width:0,height:0,listener:null},pixel:{IMPRESSION:5,IMPRESSION_IFRAME:2,INVIEW:1,INVIEW_IFRAME:null,UNDETERMINED:4},pixel_container:null,initialize:function(){var b=this;b.is_window_top&&(b.viewport.listener=b.setViewport(),b.viewport.listener(),b.setEventListener("resize",b.viewport.listener));var c=a.navigator.userAgent;/Windows/.test(c)?b.os=1:/Macintosh/.test(c)?b.os=2:/Android/.test(c)?b.os=4:/Linux/.test(c)?b.os=3:/iPhone|iPad/.test(c)&&(b.os=5),a.os=b.os,/Edge[\/\s](\d+\.\d+)/.test(c)?(b.browser.id=5,b.browser.version=+new Number(RegExp.$1)):/Firefox[\/\s](\d+\.\d+)/.test(c)?(b.browser.id=1,b.browser.version=+new Number(RegExp.$1)):/MSIE (\d+\.\d+);/.test(c)||/Trident[\/\s](\d+\.\d+)/.test(c)?(b.browser.id=9,b.browser.version=+new Number(RegExp.$1)):/Chrome[\/\s](\d+\.\d+)/.test(c)?(b.browser.id=2,b.browser.version=+new Number(RegExp.$1)):/Safari/.test(c)?(b.browser.id=3,/Version\/(.*)\s/.test(c),b.browser.version=parseInt(RegExp.$1)):/Opera\/(.*)\s/.test(c)&&(b.browser.id=4,b.browser.version=parseInt(RegExp.$1)),b.pixel.INVIEW_IFRAME=""+b.os+b.browser.id+(b.browser.version<10?"0"+b.browser.version:b.browser.version)+"1",b.pixel_container=d("div"),b.pixel_container.style.cssText="display:none;",document.body.appendChild(this.pixel_container)},addVT:function(a){a.constructor==c.VT&&this.vt_list.push(a)},findScript:function(a){for(var b=this,c=0,d=0,e=document.getElementsByTagName("script"),f=0;f<e.length;f++){var g=e[f];if(-1==b.indexof(g,b.scripts)){if(/MSIE 7\.0/.test(navigator.userAgent))c=1;else for(var h=0;h<b.valid_domains.length;h++)if(-1!==g.src.toLowerCase().search(b.valid_domains[h])){c=1;break}for(var i=0;i<b.valid_filenames.length;i++)if(-1!==g.src.toLowerCase().search(b.valid_filenames[i])){d=1;break}if(c&&d)return a&&b.scripts.push(g),g}c=0,d=0}},c3_djb2:function(a){for($hash=5381,$len=a.length,$i=0;$i<$len;$i++)$hash=($hash<<5)+$hash+a[$i].charCodeAt(0);return parseInt(Math.abs(Math.round($hash/$len)))},firePixel:function(c,e,f,g){var h=this,i=d("iframe");if(i.style.cssText="width:0;height:0;display:none;",document.cookie,!g){var j="iN="+e.id+"&cid="+escape(e.cid);e.c3AId!==b&&(j+="&c3aid="+e.c3AId),e.nid&&""!==e.nid&&e.c3ch&&""!==e.c3ch?j+="&nid=x-nid:"+escape(e.c3ch)+"<-ch-nid->"+escape(e.nid):j+="&nid="+escape(e.nid),"1"==e.C3NO&&(j+="&C3NO=1");for(var k=h.total_client_params;k;k--)""!==e["param"+k]&&(j+="&param"+k+"="+escape(e["param"+k]));e.c3t0!==b&&(j+="&c3T0"),j+="&w="+a.screen.width+"&h="+a.screen.height,f&&(j+="&sT="+f);document.currentScript;c+="?"+j,h.vtComplete()&&h.unsetEventListener("resize",h.viewport.listener)}i.src=c,h.pixel_container.appendChild(i)},d5:function(a,b){var c=a.split("?")[0];if(b){var d=c.split("/");return d[d.length-1]=b,d.join("/")}return c},indexof:function(a,c){if(c.length!==b){if(Array.prototype.indexOf)return c.indexOf(a);for(var d=0;d<c.length;d++)if(c[d]===a)return d;return-1}return-1},setParams:function(a,b){var c=function(c){var d="&"+c+"=~{";if(-1!==b.indexOf(d)){var e=b.indexOf(d),f=b.indexOf("}~",e);a[c]=b.slice(e+d.length,f),b=b.slice(0,e)+b.slice(f+2)}};c("c3pxim"),c("c3pxiv"),c("c3pxvc");var d=b.split("?"),e=d[1].split("&");if(!e[1]||""==e[1]||d.length>2)return null;for(var f=0;f<e.length;f++){var g=e[f].split("="),h=g[0].toLowerCase(),i=g[1];switch(h){case"c3nid":case"id":case"ca":case"c3":h="nid";break;case"ci":h="cid";break;case"size":case"c3size":h="param1";break;case"campaign":case"c3campaign":h="param2";break;case"placement":case"c3placement":h="param3";break;case"creative":case"c3creative":h="param4";break;case"advertiser":case"c3advertiser":h="param5";break;case"ad":case"c3ad":h="param6";break;case"adid":case"c3adid":h="param7";break;case"c3_account_id":h="c3AId";break;case"partner_id":h="partID";break;case"c3no":h="C3NO"}a[h]=i||""}return""==a.cid?null:(-1!==this.indexof(+a.cid,this.dnr_cids)&&(a.c3l0=1),a)},setViewport:function(){var b=this;return function(){void 0!==a.innerWidth?(b.viewport.width=a.innerWidth,b.viewport.height=a.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(b.viewport.width=document.documentElement.clientWidth,b.viewport.height=document.documentElement.clientHeight):(b.viewport.width=document.getElementsByTagName("body")[0].clientWidth,b.viewport.height=document.getElementsByTagName("body")[0].clientHeight)}},setEventListener:function(b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)},unsetEventListener:function(b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c)},vtComplete:function(){var a=this,b=0;if(!a.vt_list.length)return!1;for(var c=0;c<a.vt_list.length;c++){if(!a.vt_list[c].detected)return!1;b++}return b==a.vt_list.length}},c.initialize(),a.$C3=c),c.VT=function(){var a=this;if(a.id=Math.floor(999999*Math.random()),a.detected=!1,a.setup=1,a.params={nid:"",cid:"",c3trx:"",param1:"",param2:"",param3:"",param4:"",param5:"",param6:"",param7:"",id:a.id},a.script_element=c.findScript(1),!c.setParams(a.params,a.script_element.src))return null;var b=a.script_element.src.split("."),e=d("a");e.href=a.script_element.src,a.log_path=e.protocol+"//"+a.params.cid+"-vt."+(345==a.params.cid?"c3metrics":"c3tag")+"."+b[2].split("/")[0];var f=-1!==e.hostname.toLowerCase().indexOf("truste");a.client_pixels={inview:null,impression:null},a.params.c3pxiv&&(a.client_pixels.inview=a.params.c3pxiv),a.params.c3pxim&&(a.client_pixels.impression=a.params.c3pxim);var g="cdn-view."+(345==a.params.cid?"c3metrics":"c3tag")+".com";f&&(g="view.truste.com"),a.flash_html_path=e.protocol+"//"+g+"/interval_id.html",1==a.params.c3vc&&(a.params.c3pxvc?a.client_pixels.vc=a.params.c3pxvc:a.client_pixels.vc=e.protocol+"//ct."+(f?"truste":"c3tag")+".com/vccall.php")},c.is_window_top)c.VT.prototype={constructor:c.VT,initialize:function(){var a=this;a.interval_id=null;var e=d("p");return e.style.cssText="margin:0;padding:0;display:block;width:1px;height:1px;",a.script_element.parentNode.insertBefore(e,a.script_element.nextSibling),a.trigger={element:e,position_obj:{top:null,bottom:null,left:null,right:null}},a.listener={detect:a.detect(),domReady:function(){a.trigger.position_obj=a.insertBefore(a.trigger.element.offsetParent,0,0,a.trigger.element),a.listener.detect(),c.setEventListener("scroll",a.listener.detect,!1)}},"complete"==document.readyState?a.listener.domReady():c.setEventListener("load",a.listener.domReady,!1),a.params.c3l0==b&&c.firePixel(a.log_path,a.params,c.pixel.IMPRESSION),a.client_pixels.impression&&c.firePixel(a.client_pixels.impression,a.params,c.pixel.IMPRESSION,!0),a},insertBefore:function(a,b,c,d){return a.offsetParent?this.insertBefore(a.offsetParent,b+a.offsetLeft,c+a.offsetTop,d):{top:parseInt(d.offsetTop+c),left:parseInt(d.offsetLeft+b),bottom:parseInt(d.offsetTop+c+d.offsetHeight),right:parseInt(d.offsetLeft+b+d.offsetWidth)}},detect:function(){var a=this,d=(this.trigger.element,document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body);return function(b){var f=a.trigger.position_obj,g={left:document.all?d.scrollLeft:pageXOffset,top:document.all?d.scrollTop:pageYOffset};if(!a.detected&&!a.interval_id&&(f.bottom<=c.viewport.height&&f.right<=c.viewport.width||f.top<=c.viewport.height+g.top&&f.top>=g.top&&f.right<=c.viewport.width+g.left)){var h=function(){g={left:document.all?d.scrollLeft:pageXOffset,top:document.all?d.scrollTop:pageYOffset},f.top<=c.viewport.height+g.top&&f.top>=g.top&&f.right<=c.viewport.width+g.left?(e(a,c.pixel.INVIEW),c.unsetEventListener("scroll",a.listener.detect),a.detected=!0):a.interval_id=null};a.interval_id=setTimeout(h,1e3)}}}};else if(4==a.os&&2!==c.browser.id&&c.browser.version<51||5==a.os)c.VT.prototype={constructor:c.VT,initialize:function(){function j(){a.detected||(g=new Date,h=g-f,h>250?i=0:i>2e3?(e(d,c.pixel.INVIEW_IFRAME),a.detected=1):i+=h,f=new Date),requestAnimationFrame(j)}var d=this;window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame}(),d.params.c3l0===b&&(c.firePixel(d.log_path,d.params,c.pixel.IMPRESSION),c.firePixel(d.log_path,d.params,c.pixel.IMPRESSION_IFRAME)),window.addEventListener("scroll",function(){h=500,i=0});var f=new Date,g=new Date,h=g-f,i=0;return j(),this}};else if(2===c.browser.id&&c.browser.version>=51){var f=this;c.VT.prototype={constructor:c.VT,initialize:function(){var d=this;d.params.c3l0===b&&(c.firePixel(d.log_path,d.params,c.pixel.IMPRESSION),c.firePixel(d.log_path,d.params,c.pixel.IMPRESSION_IFRAME)),d.client_pixels.impression&&c.firePixel(d.client_pixels.impression,d.params,c.pixel.IMPRESSION_IFRAME,!0),d.detect();var e;e=document.createElement("p"),e.id="chromePxl";var f=(a.innerHeight-1)/2,g=(a.innerWidth-1)/2;e.style.cssText="position:absolute;z-index:0;top:"+f+"px;left:"+g+"px;",document.body.insertBefore(e,document.body.firstChild);var h=function(a){return function(){a.detect(a)}};return new IntersectionObserver(h(d),{threshold:[.5]}).observe(e),this},detect:function(a){if(a!==b)return setTimeout(function(){new IntersectionObserver(function(){this.disconnect(),a.detected||a.setup?a.setup&&(a.setup=0):(f.os&&4==f.os?e(a,c.pixel.UNDETERMINED):e(a,c.pixel.INVIEW_IFRAME),a.detected=1)},{threshold:[.5]}).observe(document.getElementById("chromePxl"))},1e3),!1}}}else 1===c.browser.id?c.VT.prototype={constructor:c.VT,initialize:function(){var a=this;return a.params.c3l0===b&&(c.firePixel(a.log_path,a.params,c.pixel.IMPRESSION),c.firePixel(a.log_path,a.params,c.pixel.IMPRESSION_IFRAME)),a.client_pixels.impression&&c.firePixel(a.client_pixels.impression,a.params,c.pixel.IMPRESSION_IFRAME,!0),a.detect(),this},detect:function(){function s(){g.clearRect(0,0,f.width,f.height),g.fillRect(0,0,2,2),!1!==r()&&d(s)}var f,g,b=this,d=a.mozRequestAnimationFrame||a.requestAnimationFrame||function(b){a.setTimeout(function(){b(+new Date)},10)};f=document.createElement("canvas"),g=f.getContext("2d");var h=(a.innerHeight-1)/2,i=(a.innerWidth-1)/2;f.width=f.height=1,f.style.cssText="position:absolute;z-index:0;top:"+h+"px;left:"+i+"px;",g.fillStyle="transparent",document.body.insertBefore(f,document.body.firstChild);var j=0,k=0,l=0,m={},n=null,p=0,r=function(){n=+new Date,m[n]=a.mozPaintCount>j?1:0,k=0,l=0,p=0;for(var d in m)d>=n-1100&&(1==m[d]?(0==p&&(p=d),k++):l++);if(p<=n-1e3&&k>l)return e(b,c.pixel.INVIEW_IFRAME),b.detected=!0,!1;j=a.mozPaintCount};s()}}:c.VT.prototype={constructor:c.VT,initialize:function(){var b=this;return!b.flashCheck()||/MSIE 10/.test(navigator.userAgent)&&-1!==a.navigator.userAgent.toLowerCase().indexOf("windows nt 6.2")||b.setupIframe(),this},flashCheck:function(){if(!a.ActiveXObject){for(var d=0;d<navigator.plugins.length;d++)if(/Shockwave Flash/.test(navigator.plugins[d].name))return/(\d+\.\d+)/.test(navigator.plugins[d].description),parseFloat(RegExp.$1);return!1}var b=null;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){return!1}if(b){var c=b.GetVariable("$version").substring(4);return c=c.split(","),c=parseFloat(c[0]+"."+c[1])}},setupIframe:function(){for(var a=this.script_element.src.split("?"),b="",d=1;d<a.length;d++)b+=a[d],d!==a.length-1&&(b+="?");b+="&iframeValue="+c.pixel.INVIEW_IFRAME;var e=document.createElement("iframe");e.id="c3",e.style.cssText="width:100%;height:100%;position:absolute;left:0;top:0;border:none;z-index:-1;",e.src=this.flash_html_path+"?"+b,document.body.appendChild(e)}};var g=new c.VT;-1===c.indexof(+g.params.cid,c.dnr_cids)&&c.addVT(g.initialize())}(window);